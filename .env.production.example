# ============================================
# PRODUCTION ENVIRONMENT CONFIGURATION
# ============================================

# Django Core Security
SECRET_KEY=  # Generate: python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
DEBUG=False
ENVIRONMENT=production
ALLOWED_HOSTS=['52.23.171.87', 'localhost']

# Database (PostgreSQL with SSL)
DATABASE_URL=postgresql://user:password@host:5432/dbname?sslmode=require

# Redis (for caching, rate limiting, session storage)
REDIS_URL=redis://:password@host:6379/1?ssl_cert_reqs=required
CELERY_BROKER_URL=redis://:password@host:6379/0?ssl_cert_reqs=required
CELERY_RESULT_BACKEND=redis://:password@host:6379/0?ssl_cert_reqs=required

# Static & Media
STATIC_ROOT=/var/www/static
MEDIA_ROOT=/var/www/media

# Email (SMTP with TLS)
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=noreply@yourdomain.com
EMAIL_HOST_PASSWORD=  # App-specific password
DEFAULT_FROM_EMAIL=noreply@yourdomain.com
ADMIN_EMAIL=admin@yourdomain.com

# Site URLs (HTTPS only)
SITE_URL=https://api.yourdomain.com
NEXTJS_URL=https://yourdomain.com

# API Secrets (Generate: openssl rand -hex 32)
REVALIDATE_SECRET=  # 64 chars
ANALYTICS_SECRET=  # 64 chars

# CORS (Strict whitelist)
CORS_ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
CSRF_TRUSTED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# Rate Limiting
ANON_THROTTLE_RATE=100/hour
USER_THROTTLE_RATE=1000/hour
LOGIN_THROTTLE_RATE=5/hour
REGISTER_THROTTLE_RATE=3/hour

# Monitoring & Error Tracking
SENTRY_DSN=https://key@sentry.io/project
SENTRY_TRACES_SAMPLE_RATE=0.1

# Logging
DJANGO_LOG_LEVEL=WARNING

# API Documentation
CONTACT_EMAIL=api@yourdomain.com

# Supabase Storage
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_API_KEY=  # Service role key for backend
SUPABASE_BUCKET=production-storage

# CDN (Optional)
CDN_PROVIDER=cloudflare
CLOUDFLARE_ZONE_ID=
CLOUDFLARE_API_TOKEN=

# SSL/TLS Configuration
SECURE_PROXY_SSL_HEADER_ENABLED=True  # Set True if behind reverse proxy (nginx, ALB)

# Session Security
SESSION_COOKIE_AGE=86400  # 24 hours
SESSION_COOKIE_DOMAIN=.yourdomain.com

# File Upload Limits
MAX_UPLOAD_SIZE=5242880  # 5MB in bytes
ALLOWED_IMAGE_EXTENSIONS=jpg,jpeg,png,webp,gif

# IP Blocking
BLOCKED_IPS=  # Comma-separated list
BLOCKED_USER_AGENTS=sqlmap,nmap,nikto,masscan

# Account Security
MAX_LOGIN_ATTEMPTS=5
ACCOUNT_LOCKOUT_DURATION=900  # 15 minutes in seconds
PASSWORD_MIN_LENGTH=12
